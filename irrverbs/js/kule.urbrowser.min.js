"use strict";!function(){var e={root:document.documentElement,getUA:navigator.userAgent.toLowerCase(),getPF:navigator.platform.toLowerCase(),isBuiltInApp:!1,breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200},script:document.currentScript||document.querySelector("#urbrowser")||document.querySelector('script[src*="urbrowser"]'),docSize:{width:function e(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function e(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},scrSize:{width:function e(){return screen.width},height:function e(){return screen.height}},cache:{},classes:[],originClasses:null,res:{},getNameByAgent:function e(){var t=this.getUA,i=t.match(/msie|iemobile|instagram|line|fbav|twitter|micromessenger|mms|miuibrowser|samsungbrowser|focus|acheetahi|ucbrowser|yabrowser|yolobrowser|firefox|fxios|puffin|mxbrowser|mxios|alohabrowser|kakaotalk|coast|beetalk|vivaldi|cordova|phonegap|react|nodejs|webview/i);return this.isBuiltInApp=/instagram|line|fbav|twitter|micromessenger|kakaotalk|beetalk|cordova|phonegap|react|nodejs|webview/.test(t),i instanceof Array?i[0]:/(?=.*windows)(?=.*rv:)/.test(t)?"rv":/op(r|era|ios|t)/.test(t)?t.match(/op(r|ios|t)/i)?t.match(/op(r|ios|t)/i)[0]:"version":!!/applewebkit/.test(t)&&(/edge/.test(t)?"edge":/edg/.test(t)?"edg":/chrome/.test(t)?"chrome":/crios/.test(t)?"crios":/version/.test(t)?"version":"safari")},getBrowserVersionByName:function e(){var t=this.getUA,i=this.res.getNameByAgent,r=void 0;if(i){var o=i.length,s=t.substr(t.indexOf(i)+o+1,20),n=/[\w\.]*/g;return r=s.match(n)[0],{int:parseInt(r,10),full:r}}},getBrowserWithCoreName:function e(){var t=this.getUA,i=this.res.getNameByAgent,r=i?i.match(/line|fbav|twitter|kakaotalk|micromessenger|beetalk|samsungbrowser|focus|acheetahi|alohabrowser|yabrowser|yolobrowser|mxbrowser|mxios|fxios/i):null,o="webkit",s=i||"unknown",n=this.res.getBrowserVersionByName.int,a="";if(r)s=r[0],s="fbav"===s?"facebook":"samsungbrowser"===s?"samsung":"alohabrowser"===s?"aloha":"yabrowser"===s?"yandex":"yolobrowser"===s?"yolo":"mxbrowser"===s||"mxios"===s?"maxthon":"acheetahi"===s?"armorfly":"fxios"===s?s+" firefox":s,n="twitter"===s?null:n;else switch(!0){case/firefox/.test(i):o=/gecko/.test(t)?"gecko":"webkit";break;case/edge|edg/.test(i):s="edge";break;case/miuibrowser/.test(i):s="miui";break;case/opr|opera|opios|opt|coast|mms/.test(i):s="opera",a="coast"===i?"coast":"mms"===i?"opera-neon":"",o=/applewebkit/.test(t)?"webkit":"presto";break;case/version|chrome|crios|safari/.test(i):s="chrome"===i||"crios"===i?"chrome":"version"===i&&/android/.test(t)?"adrBuiltin":"safari";break;case/msie|rv|iemobile/.test(i):o="ie",s="";break;default:var c=i.match(/cordova|phonegap|react|nodejs|webview/i);o="webkit",c?(-1!==t.indexOf("-android")?s=c+"-adr "+c:-1!==t.indexOf("-ios")&&(s=c+"-ios "+c),n=null):/iemobile|msie/.test(t)?o="ie":/applewebkit/.test(t)&&(/chrome|crios/.test(t)?a="chrome":/version/.test(t)?a+=/android/.test(t)?" adrBuiltin":" safari":a+="safari")}a=/chrome/.test(t)&&!/chrome/.test(a)&&a.length?"chrome":a,a=/^edge$/.test(s)?"":a;var g=s?s.split(" "):null,d=(g?g[0]:o)+n,m=(s||"")+(d?" "+d:"")+(a?" "+a:"")+(o?" "+o:"");return m=m.replace(/^\s+|\s+$/g,""),{origin:s||o,name:d,core:o,addon:a,full:m}},getPlatform:function e(){var t=this.getUA,i=this.getPF,r=i.match(/ipad|ipod|android|nintendo|blackberry|freebsd|openbsd/i);return r instanceof Array?r[0]:/os\/2|pocket pc|win16|win32|win64|wince/.test(i)?/windows ce|windows mobile|windows phone|zunewp|xblwp|iemobile|windows nt 6.[23]; arm/.test(t)?"wp":"windows":/arm/.test(i)?/windows phone|iemobile/.test(t)?"wp":/android/.test(t)?"android":"arm":/linux/.test(i)?/cros/.test(t)?"chromeos":/(?=.*windows)(?=.*mxbrowser)|android/.test(t)?"android":/iphone|pike/.test(t)?"iphone":/ipad/.test(t)?"ipad":/ipod/.test(t)?"ipod":"linux":/iphone|pike/.test(i)?"iphone":/mac|macintel|macintosh|macppc|mac68k/.test(i)?"mac":/x11|hp\-ux/.test(i)?"unix":/sunos/.test(i)?"solaris":/playstation|psp/.test(i)?"playstation":/palmos|webos/.test(i)?"palm":/s60|symbian|\\bseries\\b/.test(i)?"symbian":"unknown"},getOSName:function e(){var t=this.getUA,i=this.res.getPlatform;return/iphone|ipad|ipod/.test(i)?"iOS":"windows"===i&&/windows nt/.test(t)?"Windows":"Linux"===i?/centos/.test(t)?"CentOS":/ubuntu/.test(t)?"Ubuntu":i:i},getOSVersion:function e(){var t=this.getUA,i=this.res.getPlatform,r=/mac|ios/.test(i)?/[\d_]*/g:/[\d\.]*/g,o=this.res.getOSName;o="wp"===o?/windows ce.*(ppc|smartphone|mobile|[0-9]{3}x[0-9]{3})|window mobile|windows phone [0-9.]+|wce;/.test(t)?"windows mobile":"windows phone":"ipad"===i||/ipad/.test(t)?"cpu os":"iphone"===i||/iphone/.test(t)?"iphone os":"ipod"===i||/ipod/.test(t)?"ipod os":"mac"===o?"mac os x":"chromeos"===o?"cros i686":o;var s=o.length,n=t.substr(t.indexOf(o)+s+1,10);return n=n.match(r)[0],n.replace(/[_]+/g,".")},getBrowserName:function e(){var t=this.res.getBrowserWithCoreName;return{name:t.origin,origin:this.originClasses,classes:t.full}},getBrowserFullVersion:function e(){var t=this.res.getBrowserVersionByName;return+t.full?t.full:"unknown"},getDevice:function e(){var t=this.getUA,i=this.res.getPlatform,r=void 0;return r=t.match(/mobile|tablet|phone|android/)?"mobile":"android"===i?"mobile":"desktop"},getOrientation:function e(){var t=this.docSize.width(),i=this.docSize.height(),r=t>=i?"landscape":"portrait";return window.orientation&&(r=90===Math.abs(window.orientation)?"landscape":"portrait"),r},isInApp:function e(){return!!/line|fbav|kakaotalk|micromessenger|twitter|beetalk/.test(this.getUA)&&this.getOSName()},isWebView:function e(){var t=this.getUA,e=!!/cordova|phonegap|react|nodejs|webview/.test(t);return e&&(-1!=t.indexOf("ios")?e="ios":-1!=t.indexOf("android")&&(e="android")),e},getBreakpointRange:function e(){var t=this.breakpoints,i=this.docSize.width();return i>=t.xs&&i<t.sm?"xs":i>=t.sm&&i<t.md?"sm":i>=t.md&&i<t.lg?"md":i>=t.lg&&i<t.xl?"lg":"xl"},cookies:{isEnabled:function e(){var t=navigator.cookieEnabled;return t||(document.cookie="testcookie",t=document.cookie.indexOf("testcookie")>-1),t},get:function e(){for(var t="urbrowser=",i=document.cookie.split(";"),r=[],o=0;o<i.length;o++){for(var s=i[o];" "===s.charAt(0);)s=s.substring(1);0===s.indexOf(t)&&r.push(s.substring(t.length,s.length))}return r.length>0&&r},set:function t(i,r){var o=this;if(o.isEnabled()){o.remove();var s=i.length>0,n="urbrowser="+i,a=s?365:-1,c=location.protocol,g=/([\d]{1,3}\.){1,3}([\d]{1,3})|\:*1/.test(window.location.hostname),d=g?window.location.hostname:e.script.getAttribute("data-domain")||window.location.hostname;a=new Date((new Date).getTime()+864e5*a),n+="; expires="+a.toUTCString()+"; domain="+d+"; path=/",document.cookie=n,r&&/^http/.test(c)&&!e.isBuiltInApp&&!o.get()&&location.reload()}else console.log("Please open browser cookie.")},remove:function e(){document.cookie="urbrowser=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"},rebuild:function e(t){this.remove(),t=JSON.stringify(t),this.set(t,!0)}},storage:{get:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",i=localStorage.getItem("urbrowser");return"json"===t?JSON.parse(i):i},set:function t(i,r){var o=e.script.getAttribute("data-reload");r=!!o&&("true"===o&&r),localStorage.removeItem("urbrowser"),i?(i=JSON.stringify(i),localStorage.setItem("urbrowser",i),e.cookies.set(i,r)):(localStorage.removeItem(),e.cookies.remove())},reset:function t(i){var r=e.script.getAttribute("data-reload"),o=!r||"true"===r;localStorage.removeItem("urbrowser"),e.cookies.remove(),i=JSON.stringify(i),localStorage.setItem("urbrowser",i),e.cookies.set(i,o)}}},t={project:{name:"urBrowser",version:"4.0.7b",author:"Kei Cheng",github:"https://github.com/keicheng/urbrowser",website:"http://urbrowser.kule.tw",facebook:"https://www.facebook.com/kule.tw",cdnjs:"https://cdnjs.com/libraries/kule.lazy",license:"MIT License"},init:function t(){var i=e.cache;e.res.getBreakpointRange=e.getBreakpointRange(),e.res.getOrientation=e.getOrientation();var r=e.res;return i.project=this.project.name,i.version=this.project.version,i.author=this.project.author,i.getNameByAgent=r.getNameByAgent,i.getPlatform=r.getPlatform,i.getBrowserWithCoreName=r.getBrowserWithCoreName,i.getOSName=r.getOSName,i.getBrowserName=r.getBrowserName,i.getBrowserVersion=r.getBrowserVersionByName,i.getDevice=r.getDevice,i.getOrientation=r.getOrientation,i.isInApp=r.isInApp,i.isWebView=r.isWebView,i.getBreakpointRange=r.getBreakpointRange,i.classes=[],i.classes.push(r.getDevice),i.classes.push(r.getBrowserName.classes),r.isInApp&&i.classes.push("inApp"),r.isWebView&&i.classes.push("isWebview"),i.classes=i.classes.join(" "),i},buildBase:function t(i){var r=e.root;i=i||this.init(),r.id=i.getPlatform,r.className=(e.originClasses?e.originClasses+" ":"")+i.classes,r.setAttribute("data-browser-name",i.getBrowserName.name),r.setAttribute("data-browser-version",i.getBrowserVersion.int),r.setAttribute("data-browser-core",i.getBrowserWithCoreName.core),r.setAttribute("data-os-name",i.getOSName),r.setAttribute("data-device",i.getDevice),r.setAttribute("data-bp",i.getBreakpointRange),r.setAttribute("data-inapp",i.isInApp),r.setAttribute("data-webview",i.isWebView),r.setAttribute("data-ub-version",i.version)},build:function t(i,r){i=i||this.init(),r=r||!0,this.buildBase(i),e.storage.set(i,r)},rebuild:function t(){var i=this.init();this.buildBase(i),e.storage.reset(i,!0)},update:function t(){var i=e.storage.get("urbrowser"),r=this.init(),o=!1;i&&i.getBreakpointRange&&i.getBreakpointRange===r.getBreakpointRange&&i.getBrowserVersion.int&&i.getBrowserVersion.int===r.getBrowserVersion.int||(o=!0),o&&(e.cache=r,this.build(r,o))},diff:function t(i){var r=e.storage.get(),o=i||e.cookies.get()[0],s=JSON.stringify(this.init());return!(r==s&&o==s)},resizing:function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.root,o=this.init();i||r.setAttribute("data-bp",o.getBreakpointRange),e.storage.set(o,i)},run:function i(){var r=void 0;if(void 0===window.addEventListener||"undefined"==typeof JSON||"undefined"==typeof localStorage)this.buildBase();else{var o=e.storage.get("json"),s=e.cookies.get();o?(s.length>1&&(e.cookies.remove(),s=e.cookies.get()[0]),this.diff(s)?this.update():this.buildBase(o)):this.build(),window.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(function(){t.resizing(!1)},150)},!1)}}};e.originClasses=e.root.className,e.res.getNameByAgent=e.getNameByAgent(),e.res.getBrowserVersionByName=e.getBrowserVersionByName(),e.res.getBrowserWithCoreName=e.getBrowserWithCoreName(),e.res.getPlatform=e.getPlatform(),e.res.getOSName=e.getOSName(),e.res.getOSVersion=e.getOSVersion(),e.res.getBrowserName=e.getBrowserName(),e.res.getBrowserFullVersion=e.getBrowserFullVersion(),e.res.getDevice=e.getDevice(),e.res.getOrientation=e.getOrientation(),e.res.getBreakpointRange=e.getBreakpointRange(),e.res.isInApp=e.isInApp(),e.res.isWebView=e.isWebView(),t.run()}(window);